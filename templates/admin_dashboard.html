{% extends "base.html" %} {% block title %}Admin Dashboard - Learning Hub{%
endblock %} {% block content %}
<div class="row">
  <!-- Sidebar -->
  <div class="col-md-3">
    <div class="sidebar p-3">
      <h5 class="mb-4"><i class="fas fa-user-shield me-2"></i>Admin Portal</h5>
      <ul class="nav nav-pills flex-column">
        <li class="nav-item">
          <a class="nav-link active" href="{{ url_for('admin.dashboard') }}">
            <i class="fas fa-tachometer-alt me-2"></i>Overview
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('admin.user_management') }}">
            <i class="fas fa-users me-2"></i>User Management
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('admin.courses') }}">
            <i class="fas fa-book me-2"></i>Courses
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('admin.reports') }}">
            <i class="fas fa-chart-bar me-2"></i>Reports
          </a>
        </li>
      </ul>
    </div>
  </div>

  <!-- Main Content -->
  <div class="col-md-9">
    <div class="main-content">
      <h2 class="mb-4">Admin Dashboard</h2>

      <!-- Stats Cards -->
      <div class="row mb-4">
        <div class="col-md-3">
          <div class="stats-card">
            <h4>{{ total_users }}</h4>
            <p class="mb-0">Total Users</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="stats-card">
            <h4>{{ total_courses }}</h4>
            <p class="mb-0">Total Courses</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="stats-card">
            <h4>{{ total_sessions }}</h4>
            <p class="mb-0">Total Sessions</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="stats-card">
            <h4>95%</h4>
            <p class="mb-0">System Uptime</p>
          </div>
        </div>
      </div>
      <!-- Recent Users -->
      <div class="card dashboard-card">
        <div
          class="card-header d-flex justify-content-between align-items-center"
        >
          <h5 class="mb-0">Recent Registrations</h5>
          <a
            href="{{ url_for('admin.user_management') }}"
            class="btn btn-sm btn-outline-primary"
          >
            <i class="fas fa-users me-1"></i>Manage Users
          </a>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Username</th>
                  <th>Email</th>
                  <th>Role</th>
                  <th>Registered</th>
                </tr>
              </thead>
              <tbody>
                {% for user in recent_users %}
                <tr>
                  <td>{{ user.username }}</td>
                  <td>{{ user.email }}</td>
                  <td>
                    <span
                      class="role-badge 
                                               bg-{{ 'primary' if user.role == 'student' 
                                                   else 'success' if user.role == 'tutor'
                                                   else 'warning' if user.role == 'parent'
                                                   else 'info' }}"
                    >
                      {{ user.role.title() }}
                    </span>
                  </td>
                  <td>{{ user.created_at }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
